<link rel="import" href="../../polymer/polymer.html">
<script src="../js/xdmvc.js"></script>
<polymer-element name="xdmvc-stored-connections">
	<template>
		<h2>Stored connections</h2>
		<ul id='connections'>
			<template repeat="{{p in storedPeers}}">
				<li>
                    <div>{{p}} <button on-click="{{removeClicked}}">x</button>
                    </div>
                </li>
			</template>
		</ul>
	</template>
	<script>
		Polymer({
			created: function() {
				this.storedPeers = XDmvc.storedPeers;
			},
            
            removeClicked: function(event, detail, sender) {
                var peer = sender.parentNode.templateInstance.model.p;
                XDmvc.removeStoredPeer(peer);
            }
            
          
 		});
	</script>
</polymer-element>
